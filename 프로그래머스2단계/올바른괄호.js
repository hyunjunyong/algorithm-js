function solution(s) {
  const arr = s.split('');
  let an = 0;
  for (let i = 0; i < arr.length; i++) {
    if (arr[i] === '(') an += 1;
    if (arr[i] === ')') an -= 1;
    if (an < 0) return false;
  }
  // arr.map((item) => {
  //   if (item === '(') an += 1;
  //   if (item === ')') an -= 1;
  // });
  return an === 0 && arr[0] === '(' && arr[arr.length - 1] === ')';
}

console.log(
  solution(
    '()()((((((((((()))))))(())))))))(((()((((()()((((((((((()))))))(())))))))(((()((((()()((((((((((()))))))(())))))))(((()((((()()((((((((((()))))))(())))))))(((()((((()()((((((((((()))))))(())))))))(((()((((()()((((((((((()))))))(())))))))(((()((((()()((((((((((()))))))(())))))))(((()(((('
  )
);
